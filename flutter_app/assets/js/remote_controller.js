"use strict";(()=>{var Ee=Object.create;var ge=Object.defineProperty;var De=Object.getOwnPropertyDescriptor;var Re=Object.getOwnPropertyNames;var Te=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty;var j=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var ke=(s,e,c,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let g of Re(e))!Ie.call(s,g)&&g!==c&&ge(s,g,{get:()=>e[g],enumerable:!(a=De(e,g))||a.enumerable});return s};var h=(s,e,c)=>(c=s!=null?Ee(Te(s)):{},ke(e||!s||!s.__esModule?ge(c,"default",{value:s,enumerable:!0}):c,s));var Y=j((Me,fe)=>{fe.exports=globalThis.React});var $=j((Ue,pe)=>{pe.exports=globalThis.FuickFramework});var he=j(J=>{"use strict";var Ne=Y(),We=Symbol.for("react.element"),_e=Symbol.for("react.fragment"),Be=Object.prototype.hasOwnProperty,He=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0};function Fe(s,e,c){var a,g={},x=null,v=null;c!==void 0&&(x=""+c),e.key!==void 0&&(x=""+e.key),e.ref!==void 0&&(v=e.ref);for(a in e)Be.call(e,a)&&!Ge.hasOwnProperty(a)&&(g[a]=e[a]);if(s&&s.defaultProps)for(a in e=s.defaultProps,e)g[a]===void 0&&(g[a]=e[a]);return{$$typeof:We,type:s,key:x,ref:v,props:g,_owner:He.current}}J.Fragment=_e;J.jsx=Fe;J.jsxs=Fe});var _=j((Je,Ce)=>{"use strict";Ce.exports=he()});var f=h(Y()),d=h($());var U=h(Y()),l=h($());var X=class{static async getDeviceInfo(){return await globalThis.dartCallNative("NetworkDiscovery.getDeviceInfo",{})}static async getLocalIp(){return await globalThis.dartCallNative("NetworkDiscovery.getLocalIp",{})}};X.deviceListeners=[];var u=h(_());function oe(){let s=(0,l.useNavigator)(),[e,c]=(0,U.useState)(!1),[a,g]=(0,U.useState)([]),[x,v]=(0,U.useState)(null);(0,U.useEffect)(()=>{H()},[]);let H=async()=>{let E=await X.getDeviceInfo();v(E)},R=()=>{s.push("/controller/connect",{})};return(0,u.jsx)(l.Scaffold,{appBar:(0,u.jsx)(l.AppBar,{title:(0,u.jsxs)(l.Column,{children:[(0,u.jsx)(l.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),x?(0,u.jsx)(l.Text,{text:`\u672C\u673A: ${x.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}}):null]}),backgroundColor:"#1976D2"}),children:(0,u.jsx)(l.Container,{color:"#F5F5F5",children:(0,u.jsxs)(l.Column,{children:[(0,u.jsx)(l.Container,{padding:16,children:(0,u.jsx)(l.GestureDetector,{onTap:R,children:(0,u.jsx)(l.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,u.jsxs)(l.Row,{crossAxisAlignment:"center",children:[(0,u.jsx)(l.Container,{padding:12,decoration:{color:"#E3F2FD",borderRadius:50},children:(0,u.jsx)(l.Icon,{name:"add_link",size:28,color:"#1976D2"})}),(0,u.jsx)(l.Expanded,{flex:1,children:(0,u.jsxs)(l.Column,{margin:{left:16},children:[(0,u.jsx)(l.Text,{text:"\u8FDE\u63A5\u65B0\u8BBE\u5907",fontSize:18,fontWeight:"bold",color:"#333333"}),(0,u.jsx)(l.Text,{text:"\u8F93\u5165\u88AB\u63A7\u7AEF\u7684 IP \u5730\u5740\u548C\u7AEF\u53E3\u8FDB\u884C\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:4}})]})}),(0,u.jsx)(l.Icon,{name:"chevron_right",size:24,color:"#CCCCCC"})]})})})}),(0,u.jsx)(l.Container,{padding:16,children:(0,u.jsx)(l.Container,{padding:16,decoration:{color:"#FFF3E0",borderRadius:8,border:{width:1,color:"#FFE0B2"}},children:(0,u.jsxs)(l.Row,{crossAxisAlignment:"start",children:[(0,u.jsx)(l.Icon,{name:"help_outline",size:20,color:"#F57C00"}),(0,u.jsx)(l.Expanded,{flex:1,children:(0,u.jsxs)(l.Column,{margin:{left:8},children:[(0,u.jsx)(l.Text,{text:"\u5982\u4F55\u8FDE\u63A5\uFF1F",fontSize:16,fontWeight:"w500",color:"#F57C00"}),(0,u.jsx)(l.Text,{text:"1. \u5728\u88AB\u63A7\u7AEF\u8BBE\u5907\u4E0A\u6253\u5F00\u5E94\u7528\uFF0C\u70B9\u51FB\u201C\u88AB\u63A7\u7AEF\u201D",fontSize:14,color:"#666666",margin:{top:8}}),(0,u.jsx)(l.Text,{text:"2. \u5F00\u542F\u201C\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u201D",fontSize:14,color:"#666666",margin:{top:4}}),(0,u.jsx)(l.Text,{text:"3. \u5728\u672C\u9875\u9762\u70B9\u51FB\u201C\u8FDE\u63A5\u65B0\u8BBE\u5907\u201D\uFF0C\u8F93\u5165\u88AB\u63A7\u7AEF\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})})]})})})}var V=h(Y()),i=h($());var q=h($()),C=class{static async startServer(e=0){return await globalThis.dartCallNativeAsync("Control.startServer",{port:e})}static async stopServer(){return await globalThis.dartCallNativeAsync("Control.stopServer",{})===!0}static async connectToDevice(e,c){return await globalThis.dartCallNativeAsync("Control.connect",{ip:e,port:c})===!0}static async disconnect(){return await globalThis.dartCallNativeAsync("Control.disconnect",{})===!0}static async isConnected(){return await globalThis.dartCallNative("Control.isConnected",{})===!0}static async sendClick(e,c){return await globalThis.dartCallNativeAsync("Control.sendClick",{x:e,y:c,duration:50})===!0}static async sendSwipe(e,c,a,g,x=300){return await globalThis.dartCallNativeAsync("Control.sendSwipe",{startX:e,startY:c,endX:a,endY:g,duration:x})===!0}static async sendBack(){return await globalThis.dartCallNativeAsync("Control.sendBack",{})===!0}static async sendHome(){return await globalThis.dartCallNativeAsync("Control.sendHome",{})===!0}static async sendRecent(){return await globalThis.dartCallNativeAsync("Control.sendRecent",{})===!0}static async sendLongPress(e,c,a=1e3){return await globalThis.dartCallNativeAsync("Control.sendLongPress",{x:e,y:c,duration:a})===!0}static async sendText(e){return await globalThis.dartCallNativeAsync("Control.sendText",{text:e})===!0}static async isAccessibilityEnabled(){return await globalThis.dartCallNativeAsync("Control.isAccessibilityEnabled",{})===!0}static async openAccessibilitySettings(){return await globalThis.dartCallNativeAsync("Control.openAccessibilitySettings",{})===!0}static onConnectionStateChange(e){let c=g=>e("connected",g),a=()=>e("disconnected");return q.NativeEvent.on("connected",c),q.NativeEvent.on("disconnected",a),()=>{q.NativeEvent.off("connected",c),q.NativeEvent.off("disconnected",a)}}static onClientConnected(e){let c=a=>e(a);return q.NativeEvent.on("onClientConnected",c),()=>{q.NativeEvent.off("onClientConnected",c)}}};var m=h(_());function ne(s){let{device:e}=s,c=(0,i.useNavigator)(),[a,g]=(0,V.useState)(e?.ip||""),[x,v]=(0,V.useState)(e?.port?.toString()||"8811"),[H,R]=(0,V.useState)(!1),[E,T]=(0,V.useState)(null);return(0,m.jsx)(i.Scaffold,{appBar:(0,m.jsx)(i.AppBar,{title:(0,m.jsx)(i.Text,{text:"\u8FDE\u63A5\u8BBE\u5907",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,m.jsx)(i.GestureDetector,{onTap:()=>c.pop(),children:(0,m.jsx)(i.Container,{padding:4,children:(0,m.jsx)(i.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,m.jsxs)(i.Stack,{children:[(0,m.jsx)(i.Container,{color:"#F5F5F5",children:(0,m.jsxs)(i.Container,{padding:24,children:[(0,m.jsxs)(i.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:[(0,m.jsx)(i.Text,{text:"\u8F93\u5165\u88AB\u63A7\u8BBE\u5907\u4FE1\u606F",fontSize:18,fontWeight:"w500",color:"#333333",margin:{bottom:24}}),(0,m.jsxs)(i.Column,{margin:{bottom:16},children:[(0,m.jsx)(i.Text,{text:"IP \u5730\u5740",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(i.TextField,{text:a,hintText:"\u4F8B\u5982: 192.168.1.100",onChanged:I=>g(I)})]}),(0,m.jsxs)(i.Column,{margin:{bottom:24},children:[(0,m.jsx)(i.Text,{text:"\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(i.TextField,{text:x,hintText:"\u4F8B\u5982: 8080",onChanged:I=>v(I)})]}),E&&(0,m.jsx)(i.Text,{text:E,fontSize:14,color:"#F44336",margin:{bottom:16}}),(0,m.jsx)(i.Button,{text:H?"\u6B63\u5728\u8FDE\u63A5...":"\u7ACB\u5373\u8FDE\u63A5",onTap:async()=>{if(!a||!x){T("\u8BF7\u8F93\u5165 IP \u5730\u5740\u548C\u7AEF\u53E3");return}R(!0),T(null);let I=parseInt(x,10),A=new Promise(G=>{setTimeout(()=>{G(!1)},15e3)});try{let G=await Promise.race([C.connectToDevice(a,I),A]);R(!1),G?c.push("/controller/control",{device:{name:e?.name||a,ip:a,port:I}}):T(`\u8FDE\u63A5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u786E\u4FDD\uFF1A
1. \u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00 Wi-Fi
2. \u88AB\u63A7\u7AEF\u5DF2\u5F00\u542F\u670D\u52A1
3. \u9632\u706B\u5899\u672A\u62E6\u622A`)}catch{R(!1),T("\u8FDE\u63A5\u53D1\u751F\u5F02\u5E38\uFF0C\u8BF7\u91CD\u8BD5")}}})]}),(0,m.jsx)(i.Container,{margin:{top:24},padding:16,children:(0,m.jsxs)(i.Row,{crossAxisAlignment:"center",children:[(0,m.jsx)(i.Icon,{name:"info",size:16,color:"#999999"}),(0,m.jsx)(i.Text,{text:"\u8BF7\u786E\u4FDD\u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00\u4E2A Wi-Fi \u7F51\u7EDC\u4E0B",fontSize:12,color:"#999999",margin:{left:8}})]})})]})}),H&&(0,m.jsx)(i.Positioned,{top:0,bottom:0,left:0,right:0,children:(0,m.jsx)(i.Container,{color:"#00000020",alignment:"center",children:(0,m.jsx)(i.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12},children:(0,m.jsxs)(i.Column,{crossAxisAlignment:"center",children:[(0,m.jsx)(i.CircularProgressIndicator,{color:"#1976D2"}),(0,m.jsx)(i.Text,{text:"\u6B63\u5728\u5EFA\u7ACB\u8FDE\u63A5...",fontSize:14,color:"#333333",margin:{top:16}})]})})})})]})})}var S=h(Y()),t=h($());var re=h($()),M=class{static async startCapture(e){return await globalThis.dartCallNative("ScreenCapture.startCapture",{quality:80,maxWidth:1280,maxHeight:720,frameRate:30,...e})===!0}static async stopCapture(){return await globalThis.dartCallNative("ScreenCapture.stopCapture",{})===!0}static onScreenFrame(e){let c=a=>{if(!a)return;let g={data:a.data,timestamp:a.timestamp,width:a.width,height:a.height,originalWidth:a.originalWidth,originalHeight:a.originalHeight};e(g)};return re.NativeEvent.on("screen_frame",c),()=>{re.NativeEvent.off("screen_frame",c)}}};var o=h(_());function ie(s){let{device:e}=s,c=(0,t.useNavigator)(),[a,g]=(0,S.useState)(!0),[x,v]=(0,S.useState)(!1),[H,R]=(0,S.useState)(null),[E,T]=(0,S.useState)(null),[F,I]=(0,S.useState)({width:0,height:0}),[A,G]=(0,S.useState)({width:0,height:0}),[w,L]=(0,S.useState)({width:0,height:0}),[O,ce]=(0,S.useState)(!0),[be,xe]=(0,S.useState)(0),K=(0,S.useRef)({x:0,y:0}),Ye=(0,S.useRef)(null),Q=(0,S.useRef)(0),le=(0,S.useRef)(Date.now());(0,S.useEffect)(()=>{e&&de();let p=M.onScreenFrame(b=>{b.data&&T(b.data),Q.current++;let y=Date.now();if(y-le.current>=1e3&&(xe(Q.current),Q.current=0,le.current=y),typeof b.width=="number"&&typeof b.height=="number"){let N=b.width,W=b.height;I(D=>D.width===N&&D.height===W?D:{width:N,height:W})}if(typeof b.originalWidth=="number"&&typeof b.originalHeight=="number"){let N=b.originalWidth,W=b.originalHeight;G(D=>D.width===N&&D.height===W?D:{width:N,height:W})}}),k=C.onConnectionStateChange((b,y)=>{b==="connected"?(v(!0),g(!1)):(v(!1),R("\u8FDE\u63A5\u5DF2\u65AD\u5F00"))});return()=>{p(),k(),C.disconnect()}},[e]);let de=async()=>{if(!e)return;if(await C.isConnected()){v(!0),g(!1);return}g(!0),R(null),await C.connectToDevice(e.ip,e.port)||(R("\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC"),g(!1))},Se=p=>{if(w.width&&w.height&&F.width&&F.height){let k=w.width/F.width,b=w.height/F.height,y=Math.min(k,b),N=F.width*y,W=F.height*y,D=(w.width-N)/2,Z=(w.height-W)/2,ee=p.localPosition.dx,te=p.localPosition.dy,z=(ee-D)/y,P=(te-Z)/y;A.width&&A.height?(z=z*(A.width/F.width),P=P*(A.height/F.height)):(z=z*2,P=P*2),K.current={x:z,y:P}}},we=async p=>{if(w.width&&w.height&&F.width&&F.height){let k=w.width/F.width,b=w.height/F.height,y=Math.min(k,b),N=F.width*y,W=F.height*y,D=(w.width-N)/2,Z=(w.height-W)/2,ee=p.localPosition.dx,te=p.localPosition.dy,z=(ee-D)/y,P=(te-Z)/y;A.width&&A.height?(z=z*(A.width/F.width),P=P*(A.height/F.height)):(z=z*2,P=P*2);let me=K.current.x,ue=K.current.y;Math.sqrt(Math.pow(z-me,2)+Math.pow(P-ue,2))<10?await ye(z,P):await ve(me,ue,z,P)}},ye=async(p,k)=>{await C.sendClick(p,k)},ve=async(p,k,b,y)=>{await C.sendSwipe(p,k,b,y,300)},Ae=()=>C.sendBack(),ze=()=>C.sendHome(),Pe=()=>C.sendRecent();return a?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5...",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5\u8BBE\u5907...",fontSize:16,color:"#FFFFFF",margin:{top:16}}),e&&(0,o.jsx)(t.Text,{text:`${e.name} (${e.ip})`,fontSize:12,color:"#888888",margin:{top:8}})]})})}):H?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u8FDE\u63A5\u51FA\u9519",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#F44336"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:32,children:[(0,o.jsx)(t.Icon,{name:"error",size:64,color:"#F44336"}),(0,o.jsx)(t.Text,{text:H,fontSize:16,color:"#FFFFFF",margin:{top:16}}),(0,o.jsx)(t.Button,{text:"\u91CD\u65B0\u8FDE\u63A5",onTap:de,margin:{top:24}})]})})}):(0,o.jsx)(t.Scaffold,{appBar:O?(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:e?.name||"\u8FDC\u7A0B\u63A7\u5236",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}):void 0,children:(0,o.jsxs)(t.Stack,{children:[(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsx)(t.VisibilityDetector,{onVisibilityChanged:p=>{(p.size.width!==w.width||p.size.height!==w.height)&&(L(p.size),console.log(`[TS] Local size updated: ${p.size.width}x${p.size.height}`))},children:(0,o.jsx)(t.PointerListener,{onPointerDown:p=>Se(p),onPointerUp:p=>we(p),children:(0,o.jsx)(t.Container,{alignment:"center",children:E?(0,o.jsx)(t.Image,{url:`data:image/jpeg;base64,${E}`,fit:"contain"}):(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u7B49\u5F85\u753B\u9762...",fontSize:14,color:"#888888",margin:{top:16}})]})})})})}),O&&(0,o.jsx)(t.Positioned,{bottom:40,left:20,right:20,children:(0,o.jsxs)(t.Column,{children:[(0,o.jsx)(t.Container,{margin:{bottom:10},padding:4,decoration:{color:"#00000080",borderRadius:4},alignment:"center",children:(0,o.jsx)(t.Text,{text:`FPS: ${be}`,color:"#00FF00",fontSize:12})}),(0,o.jsx)(t.Container,{padding:12,decoration:{color:"#00000080",borderRadius:30},children:(0,o.jsxs)(t.Row,{mainAxisAlignment:"spaceEvenly",children:[(0,o.jsx)(t.GestureDetector,{onTap:Ae,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:ze,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"home",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:Pe,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"apps",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:()=>ce(!1),children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"close",size:24,color:"#FFFFFF"})})})]})})]})}),!O&&(0,o.jsx)(t.Positioned,{bottom:40,right:20,children:(0,o.jsx)(t.GestureDetector,{onTap:()=>ce(!0),children:(0,o.jsx)(t.Container,{width:50,height:50,decoration:{color:"#1976D2",borderRadius:25,boxShadow:{color:"#00000040",blurRadius:8,offset:{dx:0,dy:4}}},alignment:"center",children:(0,o.jsx)(t.Icon,{name:"settings",size:24,color:"#FFFFFF"})})})})]})})}var B=h(Y()),n=h($());var r=h(_());function ae(){let s=(0,n.useNavigator)(),[e,c]=(0,B.useState)(!1),[a,g]=(0,B.useState)(0),[x,v]=(0,B.useState)(null),[H,R]=(0,B.useState)(!1),[E,T]=(0,B.useState)(null);(0,B.useEffect)(()=>(F(),()=>{e&&A()}),[]);let F=async()=>{let L=await X.getDeviceInfo();v(L)},I=async()=>{let L=await C.startServer(8811);L&&L.success?(c(!0),g(8811),await F(),await M.startCapture({port:8811,quality:50,maxWidth:720,maxHeight:1280,frameRate:30}),console.log("[Controlee] Server started")):alert("\u542F\u52A8\u5931\u8D25: "+(L?.error||"\u672A\u77E5\u9519\u8BEF"))},A=async()=>{await M.stopCapture(),await C.stopServer(),c(!1),g(0)},G=()=>{e?A():I()};(0,B.useEffect)(()=>C.onClientConnected(O=>{O.status==="connected"?T(O.client):O.status==="disconnected"&&T(null)}),[]);let w=async()=>{await C.disconnect(),T(null)};return(0,r.jsx)(n.Scaffold,{appBar:(0,r.jsx)(n.AppBar,{title:(0,r.jsxs)(n.Column,{children:[(0,r.jsx)(n.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),x&&(0,r.jsx)(n.Text,{text:`\u672C\u673A: ${x.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}})]}),backgroundColor:"#FF9800"}),children:(0,r.jsx)(n.Container,{color:"#F5F5F5",children:(0,r.jsxs)(n.Column,{children:[(0,r.jsx)(n.Container,{padding:16,children:(0,r.jsx)(n.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,r.jsxs)(n.Row,{mainAxisAlignment:"spaceBetween",crossAxisAlignment:"center",children:[(0,r.jsxs)(n.Column,{children:[(0,r.jsx)(n.Text,{text:"\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1",fontSize:18,fontWeight:"w500",color:"#333333"}),(0,r.jsx)(n.Text,{text:e?`\u8FD0\u884C\u4E2D (\u7AEF\u53E3: ${a})`:"\u5DF2\u505C\u6B62",fontSize:14,color:e?"#4CAF50":"#999999",margin:{top:4}})]}),(0,r.jsx)(n.Switch,{value:e,onChanged:G})]})})}),(0,r.jsx)(n.Expanded,{flex:1,children:(0,r.jsx)(n.Container,{padding:16,children:(0,r.jsxs)(n.Column,{children:[e&&(0,r.jsx)(n.Container,{margin:{top:16},padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,r.jsxs)(n.Column,{crossAxisAlignment:"center",children:[(0,r.jsx)(n.Text,{text:"\u88AB\u63A7\u7AEF\u8FDE\u63A5\u4FE1\u606F",fontSize:16,fontWeight:"bold",color:"#333333"}),(0,r.jsx)(n.Container,{margin:{top:16},padding:{vertical:12,horizontal:24},decoration:{color:"#F5F5F5",borderRadius:8},children:(0,r.jsx)(n.Text,{text:`${x?.ip||"\u6B63\u5728\u83B7\u53D6 IP..."}:${a}`,fontSize:24,fontWeight:"bold",color:"#1976D2"})}),(0,r.jsx)(n.Text,{text:"\u8BF7\u5728\u63A7\u5236\u7AEF\u8F93\u5165\u4E0A\u65B9\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:12,color:"#999999",margin:{top:12}})]})}),E&&(0,r.jsx)(n.Container,{margin:{top:16},padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,r.jsxs)(n.Column,{crossAxisAlignment:"center",children:[(0,r.jsxs)(n.Row,{mainAxisAlignment:"center",crossAxisAlignment:"center",children:[(0,r.jsx)(n.Icon,{name:"phonelink_setup",size:24,color:"#4CAF50"}),(0,r.jsx)(n.Text,{text:"\u5DF2\u8FDE\u63A5\u63A7\u5236\u7AEF",fontSize:16,fontWeight:"bold",color:"#333333",margin:{left:8}})]}),(0,r.jsx)(n.Container,{margin:{top:16,bottom:16},padding:{vertical:12,horizontal:24},decoration:{color:"#E8F5E9",borderRadius:8,border:{width:1,color:"#C8E6C9"}},children:(0,r.jsxs)(n.Column,{crossAxisAlignment:"center",children:[(0,r.jsx)(n.Text,{text:E.name||"\u8FDC\u7A0B\u8BBE\u5907",fontSize:18,fontWeight:"bold",color:"#2E7D32"}),(0,r.jsx)(n.Text,{text:`${E.address}:${E.port}`,fontSize:14,color:"#666666",margin:{top:4}})]})}),(0,r.jsx)(n.Button,{text:"\u65AD\u5F00\u8FDE\u63A5",onTap:w})]})}),(0,r.jsx)(n.Container,{margin:{top:16},padding:16,decoration:{color:"#E3F2FD",borderRadius:8,border:{width:1,color:"#BBDEFB"}},children:(0,r.jsxs)(n.Row,{crossAxisAlignment:"start",children:[(0,r.jsx)(n.Icon,{name:"info",size:20,color:"#1976D2"}),(0,r.jsx)(n.Expanded,{flex:1,children:(0,r.jsxs)(n.Column,{margin:{left:8},children:[(0,r.jsx)(n.Text,{text:"\u4F7F\u7528\u8BF4\u660E",fontSize:16,fontWeight:"w500",color:"#1976D2"}),(0,r.jsx)(n.Text,{text:"1. \u5F00\u542F\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u540E\uFF0C\u63A7\u5236\u7AEF\u53EF\u4EE5\u901A\u8FC7 IP \u548C\u7AEF\u53E3\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:8}}),(0,r.jsx)(n.Text,{text:"2. \u88AB\u63A7\u7AEF\u9700\u8981\u5F00\u542F\u65E0\u969C\u788D\u670D\u52A1\u6743\u9650\u624D\u80FD\u54CD\u5E94\u8FDC\u7A0B\u64CD\u4F5C",fontSize:14,color:"#666666",margin:{top:4}}),(0,r.jsx)(n.Text,{text:"3. \u786E\u4FDD\u63A7\u5236\u7AEF\u548C\u88AB\u63A7\u7AEF\u5728\u540C\u4E00 WiFi \u7F51\u7EDC\u4E0B",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})]})})}),(0,r.jsx)(n.Container,{padding:16,alignment:"center",children:(0,r.jsx)(n.Text,{text:"FuickJS Remote Control",fontSize:12,color:"#CCCCCC"})})]})})})}var Le=s=>f.default.createElement($e,{error:s}),$e=({error:s})=>{let e=(0,d.useNavigator)();return f.default.createElement(d.Container,{color:"#FFEBEE"},f.default.createElement(d.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:30},f.default.createElement(d.Text,{text:"\u51FA\u9519\u4E86",fontSize:22,color:"#C62828",fontWeight:"bold",margin:{bottom:16}}),f.default.createElement(d.Container,{padding:12,decoration:{color:"#FFFFFF",borderRadius:8,border:{width:1,color:"#FFCDD2"}},margin:{bottom:20}},f.default.createElement(d.Text,{text:s?.message||"\u672A\u77E5\u9519\u8BEF",fontSize:14,color:"#D32F2F",maxLines:5,overflow:"ellipsis"})),f.default.createElement(d.Button,{text:"\u8FD4\u56DE\u9996\u9875",onTap:()=>e.push("/")})))};function se(){try{d.Runtime.bindGlobals(),(0,d.setGlobalErrorFallback)(Le),d.Router.register("/",()=>f.default.createElement(Oe)),d.Router.register("/controller",()=>f.default.createElement(oe)),d.Router.register("/controller/connect",s=>f.default.createElement(ne,s)),d.Router.register("/controller/control",s=>f.default.createElement(ie,s)),d.Router.register("/controlee",()=>f.default.createElement(ae))}catch(s){console.error("[RemoteControl] Init error:",s)}}function Oe(){let s=(0,d.useNavigator)();return f.default.createElement(d.Container,{color:"#F5F5F5"},f.default.createElement(d.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:24},f.default.createElement(d.Text,{text:"\u8FDC\u7A0B\u63A7\u5236",fontSize:28,fontWeight:"bold",color:"#1976D2",margin:{bottom:8}}),f.default.createElement(d.Text,{text:"\u9009\u62E9\u8FD0\u884C\u6A21\u5F0F",fontSize:16,color:"#666",margin:{bottom:48}}),f.default.createElement(d.GestureDetector,{onTap:()=>s.push("/controller")},f.default.createElement(d.Container,{padding:20,margin:{bottom:16},decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},f.default.createElement(d.Column,{crossAxisAlignment:"start"},f.default.createElement(d.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#4CAF50",margin:{bottom:4}}),f.default.createElement(d.Text,{text:"\u8FDE\u63A5\u5E76\u63A7\u5236\u5176\u4ED6\u8BBE\u5907",fontSize:14,color:"#888"})))),f.default.createElement(d.GestureDetector,{onTap:()=>s.push("/controlee")},f.default.createElement(d.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},f.default.createElement(d.Column,{crossAxisAlignment:"start"},f.default.createElement(d.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FF9800",margin:{bottom:4}}),f.default.createElement(d.Text,{text:"\u5171\u4EAB\u5C4F\u5E55\u5E76\u63A5\u53D7\u63A7\u5236",fontSize:14,color:"#888"}))))))}globalThis.initApp=se;se();})();
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
