"use strict";(()=>{var ve=Object.create;var ie=Object.defineProperty;var we=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Ee=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty;var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Pe=(n,e,c,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of ye(e))!ze.call(n,f)&&f!==c&&ie(n,f,{get:()=>e[f],enumerable:!(a=we(e,f))||a.enumerable});return n};var p=(n,e,c)=>(c=n!=null?ve(Ee(n)):{},Pe(e||!n||!n.__esModule?ie(c,"default",{value:n,enumerable:!0}):c,n));var W=M((Ge,ce)=>{ce.exports=globalThis.React});var T=M((He,se)=>{se.exports=globalThis.FuickFramework});var de=M(U=>{"use strict";var De=W(),Re=Symbol.for("react.element"),Ae=Symbol.for("react.fragment"),Ie=Object.prototype.hasOwnProperty,Te=De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ke={key:!0,ref:!0,__self:!0,__source:!0};function le(n,e,c){var a,f={},b=null,y=null;c!==void 0&&(b=""+c),e.key!==void 0&&(b=""+e.key),e.ref!==void 0&&(y=e.ref);for(a in e)Ie.call(e,a)&&!ke.hasOwnProperty(a)&&(f[a]=e[a]);if(n&&n.defaultProps)for(a in e=n.defaultProps,e)f[a]===void 0&&(f[a]=e[a]);return{$$typeof:Re,type:n,key:b,ref:y,props:f,_owner:Te.current}}U.Fragment=Ae;U.jsx=le;U.jsxs=le});var D=M((qe,me)=>{"use strict";me.exports=de()});var g=p(W()),l=p(T());var L=p(W()),s=p(T());var $=class{static async getDeviceInfo(){return await globalThis.dartCallNative("NetworkDiscovery.getDeviceInfo",{})}static async getLocalIp(){return await globalThis.dartCallNative("NetworkDiscovery.getLocalIp",{})}};$.deviceListeners=[];var u=p(D());function X(){let n=(0,s.useNavigator)(),[e,c]=(0,L.useState)(!1),[a,f]=(0,L.useState)([]),[b,y]=(0,L.useState)(null);(0,L.useEffect)(()=>{k()},[]);let k=async()=>{let A=await $.getDeviceInfo();y(A)},R=()=>{n.push("/controller/connect",{})};return(0,u.jsx)(s.Scaffold,{appBar:(0,u.jsx)(s.AppBar,{title:(0,u.jsxs)(s.Column,{children:[(0,u.jsx)(s.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),b?(0,u.jsx)(s.Text,{text:`\u672C\u673A: ${b.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}}):null]}),backgroundColor:"#1976D2"}),children:(0,u.jsx)(s.Container,{color:"#F5F5F5",children:(0,u.jsxs)(s.Column,{children:[(0,u.jsx)(s.Container,{padding:16,children:(0,u.jsx)(s.GestureDetector,{onTap:R,children:(0,u.jsx)(s.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,u.jsxs)(s.Row,{crossAxisAlignment:"center",children:[(0,u.jsx)(s.Container,{padding:12,decoration:{color:"#E3F2FD",borderRadius:50},children:(0,u.jsx)(s.Icon,{name:"add_link",size:28,color:"#1976D2"})}),(0,u.jsx)(s.Expanded,{flex:1,children:(0,u.jsxs)(s.Column,{margin:{left:16},children:[(0,u.jsx)(s.Text,{text:"\u8FDE\u63A5\u65B0\u8BBE\u5907",fontSize:18,fontWeight:"bold",color:"#333333"}),(0,u.jsx)(s.Text,{text:"\u8F93\u5165\u88AB\u63A7\u7AEF\u7684 IP \u5730\u5740\u548C\u7AEF\u53E3\u8FDB\u884C\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:4}})]})}),(0,u.jsx)(s.Icon,{name:"chevron_right",size:24,color:"#CCCCCC"})]})})})}),(0,u.jsx)(s.Container,{padding:16,children:(0,u.jsx)(s.Container,{padding:16,decoration:{color:"#FFF3E0",borderRadius:8,border:{width:1,color:"#FFE0B2"}},children:(0,u.jsxs)(s.Row,{crossAxisAlignment:"start",children:[(0,u.jsx)(s.Icon,{name:"help_outline",size:20,color:"#F57C00"}),(0,u.jsx)(s.Expanded,{flex:1,children:(0,u.jsxs)(s.Column,{margin:{left:8},children:[(0,u.jsx)(s.Text,{text:"\u5982\u4F55\u8FDE\u63A5\uFF1F",fontSize:16,fontWeight:"w500",color:"#F57C00"}),(0,u.jsx)(s.Text,{text:"1. \u5728\u88AB\u63A7\u7AEF\u8BBE\u5907\u4E0A\u6253\u5F00\u5E94\u7528\uFF0C\u70B9\u51FB\u201C\u88AB\u63A7\u7AEF\u201D",fontSize:14,color:"#666666",margin:{top:8}}),(0,u.jsx)(s.Text,{text:"2. \u5F00\u542F\u201C\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u201D",fontSize:14,color:"#666666",margin:{top:4}}),(0,u.jsx)(s.Text,{text:"3. \u5728\u672C\u9875\u9762\u70B9\u51FB\u201C\u8FDE\u63A5\u65B0\u8BBE\u5907\u201D\uFF0C\u8F93\u5165\u88AB\u63A7\u7AEF\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})})]})})})}var q=p(W()),i=p(T());var G=p(T()),C=class{static async startServer(e=0){return await globalThis.dartCallNative("Control.startServer",{port:e})}static async stopServer(){return await globalThis.dartCallNative("Control.stopServer",{})===!0}static async connectToDevice(e,c){return await globalThis.dartCallNative("Control.connect",{ip:e,port:c})===!0}static async disconnect(){return await globalThis.dartCallNative("Control.disconnect",{})===!0}static async isConnected(){return await globalThis.dartCallNative("Control.isConnected",{})===!0}static async sendClick(e,c){return await globalThis.dartCallNative("Control.sendClick",{x:e,y:c})===!0}static async sendSwipe(e,c,a,f,b=300){return await globalThis.dartCallNative("Control.sendSwipe",{startX:e,startY:c,endX:a,endY:f,duration:b})===!0}static async sendBack(){return await globalThis.dartCallNative("Control.sendBack",{})===!0}static async sendHome(){return await globalThis.dartCallNative("Control.sendHome",{})===!0}static async sendRecent(){return await globalThis.dartCallNative("Control.sendRecent",{})===!0}static onConnectionStateChange(e){let c=f=>e("connected",f),a=()=>e("disconnected");return G.NativeEvent.on("connected",c),G.NativeEvent.on("disconnected",a),()=>{G.NativeEvent.off("connected",c),G.NativeEvent.off("disconnected",a)}}static onClientConnected(e){let c=a=>e(a);return G.NativeEvent.on("onClientConnected",c),()=>{G.NativeEvent.off("onClientConnected",c)}}};var m=p(D());function K(n){let{device:e}=n,c=(0,i.useNavigator)(),[a,f]=(0,q.useState)(e?.ip||""),[b,y]=(0,q.useState)(e?.port?.toString()||"8811"),[k,R]=(0,q.useState)(!1),[A,N]=(0,q.useState)(null);return(0,m.jsx)(i.Scaffold,{appBar:(0,m.jsx)(i.AppBar,{title:(0,m.jsx)(i.Text,{text:"\u8FDE\u63A5\u8BBE\u5907",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,m.jsx)(i.GestureDetector,{onTap:()=>c.pop(),children:(0,m.jsx)(i.Container,{padding:4,children:(0,m.jsx)(i.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,m.jsxs)(i.Stack,{children:[(0,m.jsx)(i.Container,{color:"#F5F5F5",children:(0,m.jsxs)(i.Container,{padding:24,children:[(0,m.jsxs)(i.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:[(0,m.jsx)(i.Text,{text:"\u8F93\u5165\u88AB\u63A7\u8BBE\u5907\u4FE1\u606F",fontSize:18,fontWeight:"w500",color:"#333333",margin:{bottom:24}}),(0,m.jsxs)(i.Column,{margin:{bottom:16},children:[(0,m.jsx)(i.Text,{text:"IP \u5730\u5740",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(i.TextField,{text:a,hintText:"\u4F8B\u5982: 192.168.1.100",onChanged:E=>f(E)})]}),(0,m.jsxs)(i.Column,{margin:{bottom:24},children:[(0,m.jsx)(i.Text,{text:"\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(i.TextField,{text:b,hintText:"\u4F8B\u5982: 8080",onChanged:E=>y(E)})]}),A&&(0,m.jsx)(i.Text,{text:A,fontSize:14,color:"#F44336",margin:{bottom:16}}),(0,m.jsx)(i.Button,{text:k?"\u6B63\u5728\u8FDE\u63A5...":"\u7ACB\u5373\u8FDE\u63A5",onTap:async()=>{if(!a||!b){N("\u8BF7\u8F93\u5165 IP \u5730\u5740\u548C\u7AEF\u53E3");return}R(!0),N(null);let E=parseInt(b,10);console.log(`[Controller] Connecting to ${a}:${E}...`);let z=new Promise(P=>{setTimeout(()=>{P(!1)},15e3)});try{let P=await Promise.race([C.connectToDevice(a,E),z]);R(!1),P?(console.log(`[Controller] Connected to ${a}:${E} successfully`),c.push("/controller/control",{device:{name:e?.name||a,ip:a,port:E}})):(console.error(`[Controller] Failed to connect to ${a}:${E}`),N(`\u8FDE\u63A5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u786E\u4FDD\uFF1A
1. \u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00 Wi-Fi
2. \u88AB\u63A7\u7AEF\u5DF2\u5F00\u542F\u670D\u52A1
3. \u9632\u706B\u5899\u672A\u62E6\u622A`))}catch(P){console.error("[Controller] Connection error:",P),R(!1),N("\u8FDE\u63A5\u53D1\u751F\u5F02\u5E38\uFF0C\u8BF7\u91CD\u8BD5")}}})]}),(0,m.jsx)(i.Container,{margin:{top:24},padding:16,children:(0,m.jsxs)(i.Row,{crossAxisAlignment:"center",children:[(0,m.jsx)(i.Icon,{name:"info",size:16,color:"#999999"}),(0,m.jsx)(i.Text,{text:"\u8BF7\u786E\u4FDD\u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00\u4E2A Wi-Fi \u7F51\u7EDC\u4E0B",fontSize:12,color:"#999999",margin:{left:8}})]})})]})}),k&&(0,m.jsx)(i.Positioned,{top:0,bottom:0,left:0,right:0,children:(0,m.jsx)(i.Container,{color:"#00000020",alignment:"center",children:(0,m.jsx)(i.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12},children:(0,m.jsxs)(i.Column,{crossAxisAlignment:"center",children:[(0,m.jsx)(i.CircularProgressIndicator,{color:"#1976D2"}),(0,m.jsx)(i.Text,{text:"\u6B63\u5728\u5EFA\u7ACB\u8FDE\u63A5...",fontSize:14,color:"#333333",margin:{top:16}})]})})})})]})})}var v=p(W()),t=p(T());var Q=p(T()),H=class{static async startCapture(e){return await globalThis.dartCallNative("ScreenCapture.startCapture",{quality:80,maxWidth:1280,maxHeight:720,frameRate:30,...e})===!0}static async stopCapture(){return await globalThis.dartCallNative("ScreenCapture.stopCapture",{})===!0}static onScreenFrame(e){let c=a=>{if(!a)return;let f={data:a.data,timestamp:a.timestamp,width:a.width,height:a.height};e(f)};return Q.NativeEvent.on("screen_frame",c),()=>{Q.NativeEvent.off("screen_frame",c)}}};var o=p(D());function Z(n){let{device:e}=n,c=(0,t.useNavigator)(),[a,f]=(0,v.useState)(!0),[b,y]=(0,v.useState)(!1),[k,R]=(0,v.useState)(null),[A,N]=(0,v.useState)(null),[B,E]=(0,v.useState)({width:0,height:0}),[z,P]=(0,v.useState)(!0),[fe,ge]=(0,v.useState)(0),Y=(0,v.useRef)({x:0,y:0}),Be=(0,v.useRef)(null),j=(0,v.useRef)(0),ne=(0,v.useRef)(Date.now());(0,v.useEffect)(()=>{e&&re();let x=H.onScreenFrame(S=>{S.data&&N(S.data),j.current++;let I=Date.now();if(I-ne.current>=1e3&&(ge(j.current),j.current=0,ne.current=I),typeof S.width=="number"&&typeof S.height=="number"){let O=S.width,J=S.height;E(V=>V.width===O&&V.height===J?V:{width:O,height:J})}}),h=C.onConnectionStateChange((S,I)=>{S==="connected"?(y(!0),f(!1)):(y(!1),R("\u8FDE\u63A5\u5DF2\u65AD\u5F00"))});return()=>{x(),h(),C.disconnect()}},[e]);let re=async()=>{if(!e)return;if(await C.isConnected()){y(!0),f(!1);return}f(!0),R(null),await C.connectToDevice(e.ip,e.port)||(R("\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC"),f(!1))},pe=x=>{let{x:h,y:S}=ae(x);Y.current={x:h,y:S}},Fe=async x=>{let{x:h,y:S}=ae(x),I=Y.current.x,O=Y.current.y;Math.sqrt(Math.pow(h-I,2)+Math.pow(S-O,2))<10?await Ce(h,S):await be(I,O,h,S)},ae=x=>{let h=x.nativeEvent?.layout;if(!h||!B.width)return{x:0,y:0};let S=B.width/h.width,I=B.height/h.height;return{x:x.x*S,y:x.y*I}},Ce=async(x,h)=>{await C.sendClick(x,h)},be=async(x,h,S,I)=>{await C.sendSwipe(x,h,S,I,300)},xe=()=>C.sendBack(),Se=()=>C.sendHome(),he=()=>C.sendRecent();return a?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5...",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5\u8BBE\u5907...",fontSize:16,color:"#FFFFFF",margin:{top:16}}),e&&(0,o.jsx)(t.Text,{text:`${e.name} (${e.ip})`,fontSize:12,color:"#888888",margin:{top:8}})]})})}):k?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u8FDE\u63A5\u51FA\u9519",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#F44336"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:32,children:[(0,o.jsx)(t.Icon,{name:"error",size:64,color:"#F44336"}),(0,o.jsx)(t.Text,{text:k,fontSize:16,color:"#FFFFFF",margin:{top:16}}),(0,o.jsx)(t.Button,{text:"\u91CD\u65B0\u8FDE\u63A5",onTap:re,margin:{top:24}})]})})}):(0,o.jsx)(t.Scaffold,{appBar:z?(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:e?.name||"\u8FDC\u7A0B\u63A7\u5236",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>c.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}):void 0,children:(0,o.jsxs)(t.Stack,{children:[(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsx)(t.GestureDetector,{onPanStart:x=>pe(x),onPanEnd:x=>Fe(x),children:(0,o.jsx)(t.Container,{alignment:"center",children:A?(0,o.jsx)(t.Image,{url:`data:image/jpeg;base64,${A}`,gaplessPlayback:!0,fit:"contain"}):(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u7B49\u5F85\u753B\u9762...",fontSize:14,color:"#888888",margin:{top:16}})]})})})}),z&&(0,o.jsx)(t.Positioned,{bottom:40,left:20,right:20,children:(0,o.jsxs)(t.Column,{children:[(0,o.jsx)(t.Container,{margin:{bottom:10},padding:4,decoration:{color:"#00000080",borderRadius:4},alignment:"center",children:(0,o.jsx)(t.Text,{text:`FPS: ${fe}`,color:"#00FF00",fontSize:12})}),(0,o.jsx)(t.Container,{padding:12,decoration:{color:"#00000080",borderRadius:30},children:(0,o.jsxs)(t.Row,{mainAxisAlignment:"spaceEvenly",children:[(0,o.jsx)(t.GestureDetector,{onTap:xe,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:Se,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"home",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:he,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"apps",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:()=>P(!1),children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"close",size:24,color:"#FFFFFF"})})})]})})]})}),!z&&(0,o.jsx)(t.Positioned,{bottom:40,right:20,children:(0,o.jsx)(t.GestureDetector,{onTap:()=>P(!0),children:(0,o.jsx)(t.Container,{width:50,height:50,decoration:{color:"#1976D2",borderRadius:25,boxShadow:{color:"#00000040",blurRadius:8,offset:{dx:0,dy:4}}},alignment:"center",children:(0,o.jsx)(t.Icon,{name:"settings",size:24,color:"#FFFFFF"})})})})]})})}var _=p(W()),r=p(T());var d=p(D());function ee(){let n=(0,r.useNavigator)(),[e,c]=(0,_.useState)(!1),[a,f]=(0,_.useState)(0),[b,y]=(0,_.useState)(null),[k,R]=(0,_.useState)(!1);(0,_.useEffect)(()=>(A(),()=>{e&&B()}),[]);let A=async()=>{let z=await $.getDeviceInfo();console.log("[Controlee] Device Info:",JSON.stringify(z)),y(z)},N=async()=>{let z=await C.startServer(8811);z&&z.success?(c(!0),f(8811),await A(),await H.startCapture({port:8811,quality:50,maxWidth:720,maxHeight:1280,frameRate:30}),console.log("[Controlee] Server started and screen capture requested")):alert("\u542F\u52A8\u5931\u8D25: "+(z?.error||"\u672A\u77E5\u9519\u8BEF"))},B=async()=>{await H.stopCapture(),await C.stopServer(),c(!1),f(0)},E=()=>{e?B():N()};return(0,_.useEffect)(()=>C.onClientConnected(P=>{console.log("[Controlee] Client connected:",P),P.status==="connected"&&n.push("/controlee/waiting",{deviceName:P.client?.name||"\u672A\u77E5\u63A7\u5236\u7AEF"})}),[]),(0,d.jsx)(r.Scaffold,{appBar:(0,d.jsx)(r.AppBar,{title:(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),b&&(0,d.jsx)(r.Text,{text:`\u672C\u673A: ${b.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}})]}),backgroundColor:"#FF9800"}),children:(0,d.jsx)(r.Container,{color:"#F5F5F5",children:(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Container,{padding:16,children:(0,d.jsx)(r.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,d.jsxs)(r.Row,{mainAxisAlignment:"spaceBetween",crossAxisAlignment:"center",children:[(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Text,{text:"\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1",fontSize:18,fontWeight:"w500",color:"#333333"}),(0,d.jsx)(r.Text,{text:e?`\u8FD0\u884C\u4E2D (\u7AEF\u53E3: ${a})`:"\u5DF2\u505C\u6B62",fontSize:14,color:e?"#4CAF50":"#999999",margin:{top:4}})]}),(0,d.jsx)(r.Switch,{value:e,onChanged:E})]})})}),(0,d.jsx)(r.Expanded,{flex:1,children:(0,d.jsx)(r.Container,{padding:16,children:(0,d.jsxs)(r.Column,{children:[e&&(0,d.jsx)(r.Container,{margin:{top:16},padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,d.jsxs)(r.Column,{crossAxisAlignment:"center",children:[(0,d.jsx)(r.Text,{text:"\u88AB\u63A7\u7AEF\u8FDE\u63A5\u4FE1\u606F",fontSize:16,fontWeight:"bold",color:"#333333"}),(0,d.jsx)(r.Container,{margin:{top:16},padding:{vertical:12,horizontal:24},decoration:{color:"#F5F5F5",borderRadius:8},children:(0,d.jsx)(r.Text,{text:`${b?.ip||"\u6B63\u5728\u83B7\u53D6 IP..."}:${a}`,fontSize:24,fontWeight:"bold",color:"#1976D2"})}),(0,d.jsx)(r.Text,{text:"\u8BF7\u5728\u63A7\u5236\u7AEF\u8F93\u5165\u4E0A\u65B9\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:12,color:"#999999",margin:{top:12}})]})}),(0,d.jsx)(r.Container,{margin:{top:16},padding:16,decoration:{color:"#E3F2FD",borderRadius:8,border:{width:1,color:"#BBDEFB"}},children:(0,d.jsxs)(r.Row,{crossAxisAlignment:"start",children:[(0,d.jsx)(r.Icon,{name:"info",size:20,color:"#1976D2"}),(0,d.jsx)(r.Expanded,{flex:1,children:(0,d.jsxs)(r.Column,{margin:{left:8},children:[(0,d.jsx)(r.Text,{text:"\u4F7F\u7528\u8BF4\u660E",fontSize:16,fontWeight:"w500",color:"#1976D2"}),(0,d.jsx)(r.Text,{text:"1. \u5F00\u542F\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u540E\uFF0C\u63A7\u5236\u7AEF\u53EF\u4EE5\u901A\u8FC7 IP \u548C\u7AEF\u53E3\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:8}}),(0,d.jsx)(r.Text,{text:"2. \u88AB\u63A7\u7AEF\u9700\u8981\u5F00\u542F\u65E0\u969C\u788D\u670D\u52A1\u6743\u9650\u624D\u80FD\u54CD\u5E94\u8FDC\u7A0B\u64CD\u4F5C",fontSize:14,color:"#666666",margin:{top:4}}),(0,d.jsx)(r.Text,{text:"3. \u786E\u4FDD\u63A7\u5236\u7AEF\u548C\u88AB\u63A7\u7AEF\u5728\u540C\u4E00 WiFi \u7F51\u7EDC\u4E0B",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})]})})}),(0,d.jsx)(r.Container,{padding:16,alignment:"center",children:(0,d.jsx)(r.Text,{text:"FuickJS Remote Control",fontSize:12,color:"#CCCCCC"})})]})})})}var ue=p(W()),F=p(T());var w=p(D());function te(n){let{deviceName:e}=n,c=(0,F.useNavigator)();return(0,ue.useEffect)(()=>{let a=C.onConnectionStateChange((f,b)=>{f==="disconnected"&&c.pop()});return()=>{a()}},[]),(0,w.jsx)(F.Scaffold,{appBar:(0,w.jsx)(F.AppBar,{title:(0,w.jsx)(F.Text,{text:"\u6B63\u5728\u88AB\u63A7\u5236",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),backgroundColor:"#FF9800"}),children:(0,w.jsxs)(F.Container,{color:"#F5F5F5",children:[(0,w.jsxs)(F.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:32,children:[(0,w.jsx)(F.Icon,{name:"phonelink_setup",size:64,color:"#4CAF50"}),(0,w.jsx)(F.Text,{text:"\u63A7\u5236\u7AEF\u5DF2\u8FDE\u63A5",fontSize:18,fontWeight:"w500",color:"#333333",margin:{top:24}}),(0,w.jsx)(F.Text,{text:`\u63A7\u5236\u7AEF: ${e||"\u8FDC\u7A0B\u8BBE\u5907"}`,fontSize:14,color:"#666666",margin:{top:8}}),(0,w.jsx)(F.Container,{margin:{top:32},padding:16,decoration:{color:"#E8F5E9",borderRadius:8,border:{width:1,color:"#C8E6C9"}},children:(0,w.jsx)(F.Text,{text:"\u6B63\u5728\u5B9E\u65F6\u4F20\u8F93\u5C4F\u5E55\u753B\u9762...",fontSize:14,color:"#2E7D32"})}),(0,w.jsx)(F.Text,{text:"\u8BF7\u4FDD\u6301\u6B64\u9875\u9762\u6253\u5F00\u4EE5\u7EF4\u6301\u8FDE\u63A5",fontSize:12,color:"#999999",margin:{top:16}})]}),(0,w.jsx)(F.Container,{padding:16,children:(0,w.jsx)(F.Button,{text:"\u65AD\u5F00\u8FDE\u63A5",onTap:()=>{C.disconnect(),c.pop()}})})]})})}var Ne=n=>g.default.createElement(We,{error:n}),We=({error:n})=>{let e=(0,l.useNavigator)();return g.default.createElement(l.Container,{color:"#FFEBEE"},g.default.createElement(l.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:30},g.default.createElement(l.Text,{text:"\u51FA\u9519\u4E86",fontSize:22,color:"#C62828",fontWeight:"bold",margin:{bottom:16}}),g.default.createElement(l.Container,{padding:12,decoration:{color:"#FFFFFF",borderRadius:8,border:{width:1,color:"#FFCDD2"}},margin:{bottom:20}},g.default.createElement(l.Text,{text:n?.message||"\u672A\u77E5\u9519\u8BEF",fontSize:14,color:"#D32F2F",maxLines:5,overflow:"ellipsis"})),g.default.createElement(l.Button,{text:"\u8FD4\u56DE\u9996\u9875",onTap:()=>e.push("/")})))};function oe(){try{l.Runtime.bindGlobals(),(0,l.setGlobalErrorFallback)(Ne),l.Router.register("/",()=>g.default.createElement(_e)),l.Router.register("/controller",()=>g.default.createElement(X)),l.Router.register("/controller/connect",n=>g.default.createElement(K,n)),l.Router.register("/controller/control",n=>g.default.createElement(Z,n)),l.Router.register("/controlee",()=>g.default.createElement(ee)),l.Router.register("/controlee/waiting",n=>g.default.createElement(te,n)),console.log("[RemoteControl] App initialized")}catch(n){console.error("[RemoteControl] Init error:",n)}}function _e(){let n=(0,l.useNavigator)();return g.default.createElement(l.Container,{color:"#F5F5F5"},g.default.createElement(l.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:24},g.default.createElement(l.Text,{text:"\u8FDC\u7A0B\u63A7\u5236",fontSize:28,fontWeight:"bold",color:"#1976D2",margin:{bottom:8}}),g.default.createElement(l.Text,{text:"\u9009\u62E9\u8FD0\u884C\u6A21\u5F0F",fontSize:16,color:"#666",margin:{bottom:48}}),g.default.createElement(l.GestureDetector,{onTap:()=>n.push("/controller")},g.default.createElement(l.Container,{padding:20,margin:{bottom:16},decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},g.default.createElement(l.Column,{crossAxisAlignment:"start"},g.default.createElement(l.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#4CAF50",margin:{bottom:4}}),g.default.createElement(l.Text,{text:"\u8FDE\u63A5\u5E76\u63A7\u5236\u5176\u4ED6\u8BBE\u5907",fontSize:14,color:"#888"})))),g.default.createElement(l.GestureDetector,{onTap:()=>n.push("/controlee")},g.default.createElement(l.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},g.default.createElement(l.Column,{crossAxisAlignment:"start"},g.default.createElement(l.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FF9800",margin:{bottom:4}}),g.default.createElement(l.Text,{text:"\u5171\u4EAB\u5C4F\u5E55\u5E76\u63A5\u53D7\u63A7\u5236",fontSize:14,color:"#888"}))))))}globalThis.initApp=oe;oe();})();
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
