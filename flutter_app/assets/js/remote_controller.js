"use strict";(()=>{var xe=Object.create;var re=Object.defineProperty;var Se=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,we=Object.prototype.hasOwnProperty;var q=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ye=(n,e,l,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let g of he(e))!we.call(n,g)&&g!==l&&re(n,g,{get:()=>e[g],enumerable:!(i=Se(e,g))||i.enumerable});return n};var p=(n,e,l)=>(l=n!=null?xe(ve(n)):{},ye(e||!n||!n.__esModule?re(l,"default",{value:n,enumerable:!0}):l,n));var B=q((Be,ae)=>{ae.exports=globalThis.React});var T=q(($e,ie)=>{ie.exports=globalThis.FuickFramework});var se=q(M=>{"use strict";var Ee=B(),ze=Symbol.for("react.element"),De=Symbol.for("react.fragment"),Pe=Object.prototype.hasOwnProperty,Re=Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ae={key:!0,ref:!0,__self:!0,__source:!0};function ce(n,e,l){var i,g={},x=null,y=null;l!==void 0&&(x=""+l),e.key!==void 0&&(x=""+e.key),e.ref!==void 0&&(y=e.ref);for(i in e)Pe.call(e,i)&&!Ae.hasOwnProperty(i)&&(g[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)g[i]===void 0&&(g[i]=e[i]);return{$$typeof:ze,type:n,key:x,ref:y,props:g,_owner:Re.current}}M.Fragment=De;M.jsx=ce;M.jsxs=ce});var P=q((Le,le)=>{"use strict";le.exports=se()});var f=p(B()),s=p(T());var L=p(B()),c=p(T());var $=class{static async getDeviceInfo(){return await globalThis.dartCallNative("NetworkDiscovery.getDeviceInfo",{})}static async getLocalIp(){return await globalThis.dartCallNative("NetworkDiscovery.getLocalIp",{})}};$.deviceListeners=[];var u=p(P());function j(){let n=(0,c.useNavigator)(),[e,l]=(0,L.useState)(!1),[i,g]=(0,L.useState)([]),[x,y]=(0,L.useState)(null);(0,L.useEffect)(()=>{k()},[]);let k=async()=>{let A=await $.getDeviceInfo();y(A)},R=()=>{n.push("/controller/connect",{})};return(0,u.jsx)(c.Scaffold,{appBar:(0,u.jsx)(c.AppBar,{title:(0,u.jsxs)(c.Column,{children:[(0,u.jsx)(c.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),x?(0,u.jsx)(c.Text,{text:`\u672C\u673A: ${x.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}}):null]}),backgroundColor:"#1976D2"}),children:(0,u.jsx)(c.Container,{color:"#F5F5F5",children:(0,u.jsxs)(c.Column,{children:[(0,u.jsx)(c.Container,{padding:16,children:(0,u.jsx)(c.GestureDetector,{onTap:R,children:(0,u.jsx)(c.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,u.jsxs)(c.Row,{crossAxisAlignment:"center",children:[(0,u.jsx)(c.Container,{padding:12,decoration:{color:"#E3F2FD",borderRadius:50},children:(0,u.jsx)(c.Icon,{name:"add_link",size:28,color:"#1976D2"})}),(0,u.jsx)(c.Expanded,{flex:1,children:(0,u.jsxs)(c.Column,{margin:{left:16},children:[(0,u.jsx)(c.Text,{text:"\u8FDE\u63A5\u65B0\u8BBE\u5907",fontSize:18,fontWeight:"bold",color:"#333333"}),(0,u.jsx)(c.Text,{text:"\u8F93\u5165\u88AB\u63A7\u7AEF\u7684 IP \u5730\u5740\u548C\u7AEF\u53E3\u8FDB\u884C\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:4}})]})}),(0,u.jsx)(c.Icon,{name:"chevron_right",size:24,color:"#CCCCCC"})]})})})}),(0,u.jsx)(c.Container,{padding:16,children:(0,u.jsx)(c.Container,{padding:16,decoration:{color:"#FFF3E0",borderRadius:8,border:{width:1,color:"#FFE0B2"}},children:(0,u.jsxs)(c.Row,{crossAxisAlignment:"start",children:[(0,u.jsx)(c.Icon,{name:"help_outline",size:20,color:"#F57C00"}),(0,u.jsx)(c.Expanded,{flex:1,children:(0,u.jsxs)(c.Column,{margin:{left:8},children:[(0,u.jsx)(c.Text,{text:"\u5982\u4F55\u8FDE\u63A5\uFF1F",fontSize:16,fontWeight:"w500",color:"#F57C00"}),(0,u.jsx)(c.Text,{text:"1. \u5728\u88AB\u63A7\u7AEF\u8BBE\u5907\u4E0A\u6253\u5F00\u5E94\u7528\uFF0C\u70B9\u51FB\u201C\u88AB\u63A7\u7AEF\u201D",fontSize:14,color:"#666666",margin:{top:8}}),(0,u.jsx)(c.Text,{text:"2. \u5F00\u542F\u201C\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u201D",fontSize:14,color:"#666666",margin:{top:4}}),(0,u.jsx)(c.Text,{text:"3. \u5728\u672C\u9875\u9762\u70B9\u51FB\u201C\u8FDE\u63A5\u65B0\u8BBE\u5907\u201D\uFF0C\u8F93\u5165\u88AB\u63A7\u7AEF\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})})]})})})}var O=p(B()),a=p(T());var G=p(T()),C=class{static async startServer(e=0){return await globalThis.dartCallNative("Control.startServer",{port:e})}static async stopServer(){return await globalThis.dartCallNative("Control.stopServer",{})===!0}static async connectToDevice(e,l){return await globalThis.dartCallNative("Control.connect",{ip:e,port:l})===!0}static async disconnect(){return await globalThis.dartCallNative("Control.disconnect",{})===!0}static async isConnected(){return await globalThis.dartCallNative("Control.isConnected",{})===!0}static async sendClick(e,l){return await globalThis.dartCallNative("Control.sendClick",{x:e,y:l})===!0}static async sendSwipe(e,l,i,g,x=300){return await globalThis.dartCallNative("Control.sendSwipe",{startX:e,startY:l,endX:i,endY:g,duration:x})===!0}static async sendBack(){return await globalThis.dartCallNative("Control.sendBack",{})===!0}static async sendHome(){return await globalThis.dartCallNative("Control.sendHome",{})===!0}static async sendRecent(){return await globalThis.dartCallNative("Control.sendRecent",{})===!0}static onConnectionStateChange(e){let l=g=>e("connected",g),i=()=>e("disconnected");return G.NativeEvent.on("connected",l),G.NativeEvent.on("disconnected",i),()=>{G.NativeEvent.off("connected",l),G.NativeEvent.off("disconnected",i)}}static onClientConnected(e){let l=i=>e(i);return G.NativeEvent.on("onClientConnected",l),()=>{G.NativeEvent.off("onClientConnected",l)}}};var m=p(P());function J(n){let{device:e}=n,l=(0,a.useNavigator)(),[i,g]=(0,O.useState)(e?.ip||""),[x,y]=(0,O.useState)(e?.port?.toString()||"8811"),[k,R]=(0,O.useState)(!1),[A,N]=(0,O.useState)(null);return(0,m.jsx)(a.Scaffold,{appBar:(0,m.jsx)(a.AppBar,{title:(0,m.jsx)(a.Text,{text:"\u8FDE\u63A5\u8BBE\u5907",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,m.jsx)(a.GestureDetector,{onTap:()=>l.pop(),children:(0,m.jsx)(a.Container,{padding:4,children:(0,m.jsx)(a.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,m.jsxs)(a.Stack,{children:[(0,m.jsx)(a.Container,{color:"#F5F5F5",children:(0,m.jsxs)(a.Container,{padding:24,children:[(0,m.jsxs)(a.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:[(0,m.jsx)(a.Text,{text:"\u8F93\u5165\u88AB\u63A7\u8BBE\u5907\u4FE1\u606F",fontSize:18,fontWeight:"w500",color:"#333333",margin:{bottom:24}}),(0,m.jsxs)(a.Column,{margin:{bottom:16},children:[(0,m.jsx)(a.Text,{text:"IP \u5730\u5740",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(a.TextField,{text:i,hintText:"\u4F8B\u5982: 192.168.1.100",onChanged:E=>g(E)})]}),(0,m.jsxs)(a.Column,{margin:{bottom:24},children:[(0,m.jsx)(a.Text,{text:"\u7AEF\u53E3",fontSize:14,color:"#666666",margin:{bottom:8}}),(0,m.jsx)(a.TextField,{text:x,hintText:"\u4F8B\u5982: 8080",onChanged:E=>y(E)})]}),A&&(0,m.jsx)(a.Text,{text:A,fontSize:14,color:"#F44336",margin:{bottom:16}}),(0,m.jsx)(a.Button,{text:k?"\u6B63\u5728\u8FDE\u63A5...":"\u7ACB\u5373\u8FDE\u63A5",onTap:async()=>{if(!i||!x){N("\u8BF7\u8F93\u5165 IP \u5730\u5740\u548C\u7AEF\u53E3");return}R(!0),N(null);let E=parseInt(x,10);console.log(`[Controller] Connecting to ${i}:${E}...`);let z=new Promise(D=>{setTimeout(()=>{D(!1)},15e3)});try{let D=await Promise.race([C.connectToDevice(i,E),z]);R(!1),D?(console.log(`[Controller] Connected to ${i}:${E} successfully`),l.push("/controller/control",{device:{name:e?.name||i,ip:i,port:E}})):(console.error(`[Controller] Failed to connect to ${i}:${E}`),N(`\u8FDE\u63A5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u786E\u4FDD\uFF1A
1. \u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00 Wi-Fi
2. \u88AB\u63A7\u7AEF\u5DF2\u5F00\u542F\u670D\u52A1
3. \u9632\u706B\u5899\u672A\u62E6\u622A`))}catch(D){console.error("[Controller] Connection error:",D),R(!1),N("\u8FDE\u63A5\u53D1\u751F\u5F02\u5E38\uFF0C\u8BF7\u91CD\u8BD5")}}})]}),(0,m.jsx)(a.Container,{margin:{top:24},padding:16,children:(0,m.jsxs)(a.Row,{crossAxisAlignment:"center",children:[(0,m.jsx)(a.Icon,{name:"info",size:16,color:"#999999"}),(0,m.jsx)(a.Text,{text:"\u8BF7\u786E\u4FDD\u4E24\u4E2A\u8BBE\u5907\u5728\u540C\u4E00\u4E2A Wi-Fi \u7F51\u7EDC\u4E0B",fontSize:12,color:"#999999",margin:{left:8}})]})})]})}),k&&(0,m.jsx)(a.Positioned,{top:0,bottom:0,left:0,right:0,children:(0,m.jsx)(a.Container,{color:"#00000020",alignment:"center",children:(0,m.jsx)(a.Container,{padding:24,decoration:{color:"#FFFFFF",borderRadius:12},children:(0,m.jsxs)(a.Column,{crossAxisAlignment:"center",children:[(0,m.jsx)(a.CircularProgressIndicator,{color:"#1976D2"}),(0,m.jsx)(a.Text,{text:"\u6B63\u5728\u5EFA\u7ACB\u8FDE\u63A5...",fontSize:14,color:"#333333",margin:{top:16}})]})})})})]})})}var v=p(B()),t=p(T());var V=p(T()),H=class{static async startCapture(e){return await globalThis.dartCallNative("ScreenCapture.startCapture",{quality:80,maxWidth:1280,maxHeight:720,frameRate:30,...e})===!0}static async stopCapture(){return await globalThis.dartCallNative("ScreenCapture.stopCapture",{})===!0}static onScreenFrame(e){let l=i=>{let g={data:i.data,timestamp:i.timestamp,width:i.width,height:i.height};e(g)};return V.NativeEvent.on("screen_frame",l),()=>{V.NativeEvent.off("screen_frame",l)}}};var o=p(P());function X(n){let{device:e}=n,l=(0,t.useNavigator)(),[i,g]=(0,v.useState)(!0),[x,y]=(0,v.useState)(!1),[k,R]=(0,v.useState)(null),[A,N]=(0,v.useState)(null),[_,E]=(0,v.useState)({width:0,height:0}),[z,D]=(0,v.useState)(!0),[de,me]=(0,v.useState)(0),U=(0,v.useRef)({x:0,y:0}),Ne=(0,v.useRef)(null),Y=(0,v.useRef)(0),ee=(0,v.useRef)(Date.now());(0,v.useEffect)(()=>{e&&te();let b=H.onScreenFrame(S=>{Y.current++;let I=Date.now();I-ee.current>=1e3&&(me(Y.current),Y.current=0,ee.current=I),N(`data:image/jpeg;base64,${S.data}`),S.width&&S.height&&E({width:S.width,height:S.height})}),h=C.onConnectionStateChange((S,I)=>{S==="connected"?(y(!0),g(!1)):(y(!1),R("\u8FDE\u63A5\u5DF2\u65AD\u5F00"))});return()=>{b(),h(),C.disconnect()}},[e]);let te=async()=>{if(!e)return;if(await C.isConnected()){y(!0),g(!1);return}g(!0),R(null),await C.connectToDevice(e.ip,e.port)||(R("\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC"),g(!1))},ue=b=>{let{x:h,y:S}=oe(b);U.current={x:h,y:S}},fe=async b=>{let{x:h,y:S}=oe(b),I=U.current.x,ne=U.current.y;Math.sqrt(Math.pow(h-I,2)+Math.pow(S-ne,2))<10?await ge(h,S):await pe(I,ne,h,S)},oe=b=>{let h=b.nativeEvent?.layout;if(!h||!_.width)return{x:0,y:0};let S=_.width/h.width,I=_.height/h.height;return{x:b.x*S,y:b.y*I}},ge=async(b,h)=>{await C.sendClick(b,h)},pe=async(b,h,S,I)=>{await C.sendSwipe(b,h,S,I,300)},Fe=()=>C.sendBack(),Ce=()=>C.sendHome(),be=()=>C.sendRecent();return i?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5...",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>l.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u6B63\u5728\u8FDE\u63A5\u8BBE\u5907...",fontSize:16,color:"#FFFFFF",margin:{top:16}}),e&&(0,o.jsx)(t.Text,{text:`${e.name} (${e.ip})`,fontSize:12,color:"#888888",margin:{top:8}})]})})}):k?(0,o.jsx)(t.Scaffold,{appBar:(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:"\u8FDE\u63A5\u51FA\u9519",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>l.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#F44336"}),children:(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:32,children:[(0,o.jsx)(t.Icon,{name:"error",size:64,color:"#F44336"}),(0,o.jsx)(t.Text,{text:k,fontSize:16,color:"#FFFFFF",margin:{top:16}}),(0,o.jsx)(t.Button,{text:"\u91CD\u65B0\u8FDE\u63A5",onTap:te,margin:{top:24}})]})})}):(0,o.jsx)(t.Scaffold,{appBar:z?(0,o.jsx)(t.AppBar,{title:(0,o.jsx)(t.Text,{text:e?.name||"\u8FDC\u7A0B\u63A7\u5236",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),leading:(0,o.jsx)(t.GestureDetector,{onTap:()=>l.pop(),children:(0,o.jsx)(t.Container,{padding:4,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),backgroundColor:"#1976D2"}):void 0,children:(0,o.jsxs)(t.Stack,{children:[(0,o.jsx)(t.Container,{color:"#000000",children:(0,o.jsx)(t.GestureDetector,{onPanStart:b=>ue(b),onPanEnd:b=>fe(b),children:(0,o.jsx)(t.Container,{alignment:"center",children:A?(0,o.jsx)(t.Image,{url:A,fit:"contain"}):(0,o.jsxs)(t.Column,{mainAxisAlignment:"center",children:[(0,o.jsx)(t.CircularProgressIndicator,{color:"#1976D2"}),(0,o.jsx)(t.Text,{text:"\u7B49\u5F85\u753B\u9762...",fontSize:14,color:"#888888",margin:{top:16}})]})})})}),z&&(0,o.jsx)(t.Positioned,{bottom:40,left:20,right:20,children:(0,o.jsxs)(t.Column,{children:[(0,o.jsx)(t.Container,{margin:{bottom:10},padding:4,decoration:{color:"#00000080",borderRadius:4},alignment:"center",children:(0,o.jsx)(t.Text,{text:`FPS: ${de}`,color:"#00FF00",fontSize:12})}),(0,o.jsx)(t.Container,{padding:12,decoration:{color:"#00000080",borderRadius:30},children:(0,o.jsxs)(t.Row,{mainAxisAlignment:"spaceEvenly",children:[(0,o.jsx)(t.GestureDetector,{onTap:Fe,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"arrow_back",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:Ce,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"home",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:be,children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"apps",size:24,color:"#FFFFFF"})})}),(0,o.jsx)(t.GestureDetector,{onTap:()=>D(!1),children:(0,o.jsx)(t.Container,{padding:8,children:(0,o.jsx)(t.Icon,{name:"close",size:24,color:"#FFFFFF"})})})]})})]})}),!z&&(0,o.jsx)(t.Positioned,{bottom:40,right:20,children:(0,o.jsx)(t.GestureDetector,{onTap:()=>D(!0),children:(0,o.jsx)(t.Container,{width:50,height:50,decoration:{color:"#1976D2",borderRadius:25,boxShadow:{color:"#00000040",blurRadius:8,offset:{dx:0,dy:4}}},alignment:"center",children:(0,o.jsx)(t.Icon,{name:"settings",size:24,color:"#FFFFFF"})})})})]})})}var W=p(B()),r=p(T());var d=p(P());function K(){let n=(0,r.useNavigator)(),[e,l]=(0,W.useState)(!1),[i,g]=(0,W.useState)(0),[x,y]=(0,W.useState)(null),[k,R]=(0,W.useState)(!1);(0,W.useEffect)(()=>(A(),()=>{e&&_()}),[]);let A=async()=>{let z=await $.getDeviceInfo();console.log("[Controlee] Device Info:",JSON.stringify(z)),y(z)},N=async()=>{let z=await C.startServer(8811);z&&z.success?(l(!0),g(8811),await A(),await H.startCapture({port:8811,quality:50,maxWidth:720,maxHeight:1280,frameRate:30}),console.log("[Controlee] Server started and screen capture requested")):alert("\u542F\u52A8\u5931\u8D25: "+(z?.error||"\u672A\u77E5\u9519\u8BEF"))},_=async()=>{await H.stopCapture(),await C.stopServer(),l(!1),g(0)},E=()=>{e?_():N()};return(0,W.useEffect)(()=>C.onClientConnected(D=>{console.log("[Controlee] Client connected:",D),D.status==="connected"&&n.push("/controlee/waiting",{deviceName:D.client?.name||"\u672A\u77E5\u63A7\u5236\u7AEF"})}),[]),(0,d.jsx)(r.Scaffold,{appBar:(0,d.jsx)(r.AppBar,{title:(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),x&&(0,d.jsx)(r.Text,{text:`\u672C\u673A: ${x.name}`,fontSize:12,color:"#FFFFFF80",margin:{top:4}})]}),backgroundColor:"#FF9800"}),children:(0,d.jsx)(r.Container,{color:"#F5F5F5",children:(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Container,{padding:16,children:(0,d.jsx)(r.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,d.jsxs)(r.Row,{mainAxisAlignment:"spaceBetween",crossAxisAlignment:"center",children:[(0,d.jsxs)(r.Column,{children:[(0,d.jsx)(r.Text,{text:"\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1",fontSize:18,fontWeight:"w500",color:"#333333"}),(0,d.jsx)(r.Text,{text:e?`\u8FD0\u884C\u4E2D (\u7AEF\u53E3: ${i})`:"\u5DF2\u505C\u6B62",fontSize:14,color:e?"#4CAF50":"#999999",margin:{top:4}})]}),(0,d.jsx)(r.Switch,{value:e,onChanged:E})]})})}),(0,d.jsx)(r.Expanded,{flex:1,children:(0,d.jsx)(r.Container,{padding:16,children:(0,d.jsxs)(r.Column,{children:[e&&(0,d.jsx)(r.Container,{margin:{top:16},padding:24,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000010",blurRadius:8,offset:{dx:0,dy:2}}},children:(0,d.jsxs)(r.Column,{crossAxisAlignment:"center",children:[(0,d.jsx)(r.Text,{text:"\u88AB\u63A7\u7AEF\u8FDE\u63A5\u4FE1\u606F",fontSize:16,fontWeight:"bold",color:"#333333"}),(0,d.jsx)(r.Container,{margin:{top:16},padding:{vertical:12,horizontal:24},decoration:{color:"#F5F5F5",borderRadius:8},children:(0,d.jsx)(r.Text,{text:`${x?.ip||"\u6B63\u5728\u83B7\u53D6 IP..."}:${i}`,fontSize:24,fontWeight:"bold",color:"#1976D2"})}),(0,d.jsx)(r.Text,{text:"\u8BF7\u5728\u63A7\u5236\u7AEF\u8F93\u5165\u4E0A\u65B9\u663E\u793A\u7684 IP \u548C\u7AEF\u53E3",fontSize:12,color:"#999999",margin:{top:12}})]})}),(0,d.jsx)(r.Container,{margin:{top:16},padding:16,decoration:{color:"#E3F2FD",borderRadius:8,border:{width:1,color:"#BBDEFB"}},children:(0,d.jsxs)(r.Row,{crossAxisAlignment:"start",children:[(0,d.jsx)(r.Icon,{name:"info",size:20,color:"#1976D2"}),(0,d.jsx)(r.Expanded,{flex:1,children:(0,d.jsxs)(r.Column,{margin:{left:8},children:[(0,d.jsx)(r.Text,{text:"\u4F7F\u7528\u8BF4\u660E",fontSize:16,fontWeight:"w500",color:"#1976D2"}),(0,d.jsx)(r.Text,{text:"1. \u5F00\u542F\u5C4F\u5E55\u5171\u4EAB\u670D\u52A1\u540E\uFF0C\u63A7\u5236\u7AEF\u53EF\u4EE5\u901A\u8FC7 IP \u548C\u7AEF\u53E3\u8FDE\u63A5",fontSize:14,color:"#666666",margin:{top:8}}),(0,d.jsx)(r.Text,{text:"2. \u88AB\u63A7\u7AEF\u9700\u8981\u5F00\u542F\u65E0\u969C\u788D\u670D\u52A1\u6743\u9650\u624D\u80FD\u54CD\u5E94\u8FDC\u7A0B\u64CD\u4F5C",fontSize:14,color:"#666666",margin:{top:4}}),(0,d.jsx)(r.Text,{text:"3. \u786E\u4FDD\u63A7\u5236\u7AEF\u548C\u88AB\u63A7\u7AEF\u5728\u540C\u4E00 WiFi \u7F51\u7EDC\u4E0B",fontSize:14,color:"#666666",margin:{top:4}})]})})]})})]})})}),(0,d.jsx)(r.Container,{padding:16,alignment:"center",children:(0,d.jsx)(r.Text,{text:"FuickJS Remote Control",fontSize:12,color:"#CCCCCC"})})]})})})}var F=p(T());var w=p(P());function Q(n){let{deviceName:e}=n,l=(0,F.useNavigator)();return(0,w.jsx)(F.Scaffold,{appBar:(0,w.jsx)(F.AppBar,{title:(0,w.jsx)(F.Text,{text:"\u6B63\u5728\u88AB\u63A7\u5236",fontSize:20,fontWeight:"bold",color:"#FFFFFF"}),backgroundColor:"#FF9800"}),children:(0,w.jsxs)(F.Container,{color:"#F5F5F5",children:[(0,w.jsxs)(F.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:32,children:[(0,w.jsx)(F.Icon,{name:"phonelink_setup",size:64,color:"#4CAF50"}),(0,w.jsx)(F.Text,{text:"\u63A7\u5236\u7AEF\u5DF2\u8FDE\u63A5",fontSize:18,fontWeight:"w500",color:"#333333",margin:{top:24}}),(0,w.jsx)(F.Text,{text:`\u63A7\u5236\u7AEF: ${e||"\u8FDC\u7A0B\u8BBE\u5907"}`,fontSize:14,color:"#666666",margin:{top:8}}),(0,w.jsx)(F.Container,{margin:{top:32},padding:16,decoration:{color:"#E8F5E9",borderRadius:8,border:{width:1,color:"#C8E6C9"}},children:(0,w.jsx)(F.Text,{text:"\u6B63\u5728\u5B9E\u65F6\u4F20\u8F93\u5C4F\u5E55\u753B\u9762...",fontSize:14,color:"#2E7D32"})}),(0,w.jsx)(F.Text,{text:"\u8BF7\u4FDD\u6301\u6B64\u9875\u9762\u6253\u5F00\u4EE5\u7EF4\u6301\u8FDE\u63A5",fontSize:12,color:"#999999",margin:{top:16}})]}),(0,w.jsx)(F.Container,{padding:16,children:(0,w.jsx)(F.Button,{text:"\u65AD\u5F00\u8FDE\u63A5",onTap:()=>{C.disconnect(),l.pop()}})})]})})}var Ie=n=>f.default.createElement(Te,{error:n}),Te=({error:n})=>{let e=(0,s.useNavigator)();return f.default.createElement(s.Container,{color:"#FFEBEE"},f.default.createElement(s.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:30},f.default.createElement(s.Text,{text:"\u51FA\u9519\u4E86",fontSize:22,color:"#C62828",fontWeight:"bold",margin:{bottom:16}}),f.default.createElement(s.Container,{padding:12,decoration:{color:"#FFFFFF",borderRadius:8,border:{width:1,color:"#FFCDD2"}},margin:{bottom:20}},f.default.createElement(s.Text,{text:n?.message||"\u672A\u77E5\u9519\u8BEF",fontSize:14,color:"#D32F2F",maxLines:5,overflow:"ellipsis"})),f.default.createElement(s.Button,{text:"\u8FD4\u56DE\u9996\u9875",onTap:()=>e.push("/")})))};function Z(){try{s.Runtime.bindGlobals(),(0,s.setGlobalErrorFallback)(Ie),s.Router.register("/",()=>f.default.createElement(ke)),s.Router.register("/controller",()=>f.default.createElement(j)),s.Router.register("/controller/connect",n=>f.default.createElement(J,n)),s.Router.register("/controller/control",n=>f.default.createElement(X,n)),s.Router.register("/controlee",()=>f.default.createElement(K)),s.Router.register("/controlee/waiting",n=>f.default.createElement(Q,n)),console.log("[RemoteControl] App initialized")}catch(n){console.error("[RemoteControl] Init error:",n)}}function ke(){let n=(0,s.useNavigator)();return f.default.createElement(s.Container,{color:"#F5F5F5"},f.default.createElement(s.Column,{mainAxisAlignment:"center",crossAxisAlignment:"center",padding:24},f.default.createElement(s.Text,{text:"\u8FDC\u7A0B\u63A7\u5236",fontSize:28,fontWeight:"bold",color:"#1976D2",margin:{bottom:8}}),f.default.createElement(s.Text,{text:"\u9009\u62E9\u8FD0\u884C\u6A21\u5F0F",fontSize:16,color:"#666",margin:{bottom:48}}),f.default.createElement(s.GestureDetector,{onTap:()=>n.push("/controller")},f.default.createElement(s.Container,{padding:20,margin:{bottom:16},decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},f.default.createElement(s.Column,{crossAxisAlignment:"start"},f.default.createElement(s.Text,{text:"\u63A7\u5236\u7AEF",fontSize:20,fontWeight:"bold",color:"#4CAF50",margin:{bottom:4}}),f.default.createElement(s.Text,{text:"\u8FDE\u63A5\u5E76\u63A7\u5236\u5176\u4ED6\u8BBE\u5907",fontSize:14,color:"#888"})))),f.default.createElement(s.GestureDetector,{onTap:()=>n.push("/controlee")},f.default.createElement(s.Container,{padding:20,decoration:{color:"#FFFFFF",borderRadius:12,boxShadow:{color:"#00000020",blurRadius:8,offset:{dx:0,dy:2}}}},f.default.createElement(s.Column,{crossAxisAlignment:"start"},f.default.createElement(s.Text,{text:"\u88AB\u63A7\u7AEF",fontSize:20,fontWeight:"bold",color:"#FF9800",margin:{bottom:4}}),f.default.createElement(s.Text,{text:"\u5171\u4EAB\u5C4F\u5E55\u5E76\u63A5\u53D7\u63A7\u5236",fontSize:14,color:"#888"}))))))}globalThis.initApp=Z;Z();})();
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
